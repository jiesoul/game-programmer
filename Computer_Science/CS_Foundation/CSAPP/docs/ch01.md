## 计算机系统概览

计算机系统由硬件和系统软件和一起运行在它之上的应用软件组成。

这个课程我们将使用C 编程语言，而大部分的的编程学习从 hello world 程序开始：

```c
#include <stdio.h>

int main()
{
  printf("hello, world\n");
  return 0;
}
```

### 信息就是比特加上下文

使用编辑器创建的 hello 程序保存在文本文件 hello.c 中，像这种文件被称为源程序或源文件。

### 程序被其它程序转换成不同的形式。

```bash
gcc -o hello hello.c
```

Unix 系统中，从源文件到目标文件由编译器执行：
* 预处理阶段。预处理器修改原始的 C 程序，展开宏定义。生成的文件后缀为 hello.i。
* 编译阶段。 编译器转换文本文件为 hello.i 到包含汇编语言程序的文本文件 hello.s。
* 汇编阶段。汇编器转换 hello.s为机器语言指令，储存结果在 hello.o 中。这个文件是二进制文件。
  使用文件编辑打开是乱码。
* 链接阶段。一些包含程序中用到的预编译文件被链接器合并到结果中，生成最后的可执行文件 hello。

### 理解计算机系统工作的好处

* 优化程序性能。现代编译器能生成很好的代码，作为编程者，一般不需要知道内部工作的细节。
  但是为了写出更好的代码，我们需要了解一些机器级语言的知识。
* 理解链接错误。在以往的经验中，最常出现错误的就是链接阶段。
* 避免安全漏洞。

### 处理器处理和解释储存在内存中指令

在 Unix 系统中运行可执行文件：

```bash
shell>./hello
hello, world
shall>
```

shell 是一个命令行解释器，

#### 系统的硬件组织
* 桥。在系统中运行是通过一个电子导管集合，叫做桥，它在组件之间的前和后运行信息。
  桥被设计为传送固定大小块的比特叫做 words（字长）。4bytes=32位，8bytes=64位。
* I/O设备。输入和输出设备是系统与外部世界的连接。键盘、鼠标属于输入。显示器等属于输出。
  每一个I/O 设备通过一个控制器或适配器被连接到 I/O 桥上。
* 主存。 当程序运行时，持有程序和数据的临时存储设备。 
  DRAM（动态随机存储单元--dynamic random access devices）集合组成。
  逻辑上，主存被组织为线性比特数组，每一个元素都有唯一的地址。地址开始是0。
* 处理器。 central processing unit(CPU)、或简称为处理器是，是指靠存储在主存中指令的引擎。
  它的核心是一个字长的储存设备（或寄存器）叫做程序计数器（PC-program counter）。围绕主存、寄存器和算术逻辑单元有几个简单的操作：
  * Load（加载）：复制一个字节或字长从主存到寄存器，覆盖寄存器的值。
  * Store（储存）：从寄存器复制一个字节或字长到主存的一个位置上，覆盖那个位置上的值。
  * Oprate（操作）：从ALU（算术逻辑单元）复制两个寄存器的内容，在两个字长上执行算术操作，并且存储结果到一个寄存器中，覆盖这个寄存器的内容。
  * Jump（跳转）：从指令中挑出一个字长并且复制进程序计数器(PC)，覆盖PC的值。

#### 运行 hello 程序

